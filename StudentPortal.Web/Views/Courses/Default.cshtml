@model StudentPortal.Domain.Models.CourseSelection

@{
    ViewBag.Title = "Course Selection";

    List<Course> _courses = (List<Course>) ViewBag.Courses;
    List<CourseGroup> _groups = (List<CourseGroup>) ViewBag.CourseGroups;
}

<ol class="breadcrumb">
    <li><a href="~/">Home</a></li>
    <li><a href="@Url.Action("Default", "Applications")">My applications</a></li>
    <li><a href="@Url.Action("Manage", "Applications")">Current application</a></li>
    <li class="active">Course selection</li>
</ol>

<h2 class="page-header">Course Selection</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group">
        @Html.LabelFor(model => model.FirstChoice)
        @Html.DropDownListFor(model => model.FirstChoice, _courses.ToSelectList(_groups, Model.FirstChoice), "Please select...", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.FirstChoice, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.SecondChoice)
        @Html.DropDownListFor(model => model.SecondChoice, _courses.ToSelectList(_groups, Model.SecondChoice), "Please select...", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.SecondChoice, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.ThirdChoice)
        @Html.DropDownListFor(model => model.ThirdChoice, _courses.ToSelectList(_groups, Model.ThirdChoice), "Please select...", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.ThirdChoice, "", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(model => model.FourthChoice)
        @Html.DropDownListFor(model => model.FourthChoice, _courses.ToSelectList(_groups, Model.FourthChoice), "Please select...", new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.FourthChoice, "", new { @class = "text-danger" })
    </div>

    <div class="form-group block">
        <p class="text-muted help-text">Please include any relevant information that will help us assess your application. This can include things such as why you have chosen your course(s), your career ambitions, why you are choosing to study at @(ViewBag.Institution), a personal statement, etc.</p>
        @Html.LabelFor(model => model.Notes)
        @Html.TextAreaFor(model => model.Notes, new { @class = "form-control", @rows = "10" })
        @Html.ValidationMessageFor(model => model.Notes, "", new { @class = "text-danger" })
    </div>

    <div class="form-group block">
        <button class="btn btn-success" type="submit">Continue</button>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
